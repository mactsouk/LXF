version: v1.0
name: First pipeline example
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804

blocks:
  - name: Inspect environment
    task:
      jobs:
      - name: Inspecting VM
        commands:
          - uname -a 
          - df
          - free
          - gcc  -v
          - python3 -V

  - name: Second task
    task:
      jobs:
      - name: Checking out
        commands:
          - pwd 
          - checkout
          - pwd
          - ls -l

  - name: Using a secret
    task:
      jobs:
      - name: Printing secret values
        commands:
          - echo $ISSUE
          - echo $PAGES
      secrets:
        - name: lxf-secret

